<h2 class="text-3xl font-bold text-gray-700 mb-6">Entre em contato</h2>

<section class="max-w-2xl mx-auto p-6 bg-white rounded-lg shadow-md">
  <form class="space-y-4" [formGroup]="formContato" (ngSubmit)="enviarFormulario()">

    <!-- Campo Nome -->
    <input
      type="text"
      formControlName="nome"
      placeholder="Digite o seu nome"
      class="w-full border rounded px-3 py-2 focus:outline-none focus:ring focus:ring-blue-300"
      [class.valid]="formContato.get('nome')?.valid && formContato.get('nome')?.touched"
      [class.invalid]="formContato.get('nome')?.invalid && formContato.get('nome')?.touched"
    />
    <div class="mensagem-erro" *ngIf="formContato.get('nome')?.invalid && formContato.get('nome')?.touched">
      <small *ngIf="formContato.get('nome')?.errors?.['required']">O nome é obrigatório</small>
      <small *ngIf="formContato.get('nome')?.errors?.['minlength']">O nome deve ter pelo menos 4 caracteres.</small>
    </div>

    <!-- Campo Assunto -->
    <input
      type="text"
      formControlName="assunto"
      placeholder="Digite o assunto"
      class="w-full border rounded px-3 py-2 focus:outline-none focus:ring focus:ring-blue-300"
      [class.valid]="formContato.get('assunto')?.valid && formContato.get('assunto')?.touched"
      [class.invalid]="formContato.get('assunto')?.invalid && formContato.get('assunto')?.touched"
    />
    <div class="mensagem-erro" *ngIf="formContato.get('assunto')?.invalid && formContato.get('assunto')?.touched">
      <small *ngIf="formContato.get('assunto')?.errors?.['required']">O assunto é obrigatório.</small>
      <small *ngIf="formContato.get('assunto')?.errors?.['minlength']">O assunto deve ter pelo menos 3 caracteres.</small>
    </div>

    <!-- Campo Telefone -->
    <input
      type="tel"
      formControlName="telefone"
      placeholder="(00) 0 0000-0000"
      class="w-full border rounded px-3 py-2 focus:outline-none focus:ring focus:ring-blue-300"
      [class.valid]="formContato.get('telefone')?.valid && formContato.get('telefone')?.touched"
      [class.invalid]="formContato.get('telefone')?.invalid && formContato.get('telefone')?.touched"
    />
    <div class="mensagem-erro" *ngIf="formContato.get('telefone')?.invalid && formContato.get('telefone')?.touched">
      <small *ngIf="formContato.get('telefone')?.errors?.['required']">O telefone é obrigatório</small>
      <small *ngIf="formContato.get('telefone')?.errors?.['pattern']">Formato inválido. Use apenas números (10 ou 11 dígitos)</small>
    </div>

    <!-- Campo Email -->
    <input
      type="email"
      formControlName="email"
      placeholder="Digite o seu e-mail"
      class="w-full border rounded px-3 py-2 focus:outline-none focus:ring focus:ring-blue-300"
      [class.valid]="formContato.get('email')?.valid && formContato.get('email')?.touched"
      [class.invalid]="formContato.get('email')?.invalid && formContato.get('email')?.touched"
    />
    <div class="mensagem-erro" *ngIf="formContato.get('email')?.invalid && formContato.get('email')?.touched">
      <small *ngIf="formContato.get('email')?.errors?.['required']">O email é obrigatório.</small>
      <small *ngIf="formContato.get('email')?.errors?.['email']">Formato de e-mail inválido.</small>
    </div>

    <!-- Campo Mensagem -->
    <textarea
      formControlName="mensagem"
      maxlength="300"
      placeholder="Digite a sua mensagem"
      class="w-full border rounded px-3 py-2 h-32 focus:outline-none focus:ring focus:ring-blue-300"
      [class.valid]="formContato.get('mensagem')?.valid && formContato.get('mensagem')?.touched"
      [class.invalid]="formContato.get('mensagem')?.invalid && formContato.get('mensagem')?.touched"
    ></textarea>
    <div class="mensagem-erro" *ngIf="formContato.get('mensagem')?.invalid && formContato.get('mensagem')?.touched">
      <small *ngIf="formContato.get('mensagem')?.errors?.['required']">A mensagem é obrigatória.</small>
      <small *ngIf="formContato.get('mensagem')?.errors?.['minlength']">A mensagem deve ter pelo menos 10 caracteres.</small>
    </div>
    <div class="contador-caracteres">
      Caracteres: {{ formContato.get('mensagem')?.value.length || 0 }}/300
    </div>

    <!-- Botão -->
    <button type="submit"
            [disabled]="formContato.invalid"
            class="w-full bg-blue-600 text-white py-2 rounded font-bold hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed">
      Enviar
    </button>
  </form>

  <!-- Endereço -->
  <address class="mt-6 text-sm text-gray-700">
   <iframe src="https://www.google.com/maps/embed?pb=!1m16!1m12!1m3!1d3557.5752417812364!2d-49
   .072882275372905!3d-26.91697239338026!2m3!1f0!
   2f0!3f0!3m2!1i1024!2i768!4f13.1!2m1!1sEndere%C3%A7o%3A%20Tarum%C3%A3%20Office%20-
   %20Rua%207%20de%20Setembro%2C%201600%20-
   %2014%C2%BA%20andar%20-%20Centro.%2089.010-
   204%20-%20Blumenau%20%2F%20SC!5e0!3m2!
   1sen!2sbr!4v1763528597247!5m2!1sen!2sbr" 
   width="600" height="450" style="border:0;" 
   allowfullscreen="" loading="lazy" referrerpolicy="no-
   referrer-when-downgrade"></iframe>
            
    <p class="mt-2">Endereço: Tarumã Office - Rua 7 de Setembro, 1600 - 14º andar - Centro. 89.010-204 - Blumenau / SC</p>
  </address>
</section>
