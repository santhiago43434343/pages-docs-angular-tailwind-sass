"use strict";(self.webpackChunkecommerce=self.webpackChunkecommerce||[]).push([[110],{7110:(x,m,i)=>{i.r(m),i.d(m,{CarrinhoComponent:()=>_});var l=i(2200),p=i(8132),a=i(4341),c=i(2615),t=i(3664),h=i(8556),g=i(8178);function b(e,d){if(1&e){const r=t.RV6();t.j41(0,"li",8),t.nrm(1,"img",9),t.j41(2,"div",10)(3,"p",11),t.EFF(4),t.k0s(),t.j41(5,"p",12),t.EFF(6),t.k0s(),t.j41(7,"p",13),t.EFF(8),t.nI1(9,"number"),t.k0s(),t.j41(10,"label",14),t.EFF(11," Quantidade: "),t.j41(12,"input",15),t.mxI("ngModelChange",function(n){const s=c.eBV(r).$implicit;return t.DH7(s.quantidade,n)||(s.quantidade=n),c.Njj(n)}),t.k0s()()(),t.j41(13,"button",16),t.bIt("click",function(){const n=c.eBV(r).index,s=t.XpG(2);return c.Njj(s.removerItem(n))}),t.nrm(14,"i",17),t.k0s()()}if(2&e){const r=d.$implicit;t.R7$(),t.Y8G("alt",t.mNQ(r.nome))("src",r.imagem,t.B4B),t.R7$(3),t.JRh(r.nome),t.R7$(2),t.JRh(r.descricao),t.R7$(2),t.SpI("R$ ",t.i5U(9,7,r.preco,"1.2-2")),t.R7$(4),t.R50("ngModel",r.quantidade)}}function u(e,d){if(1&e){const r=t.RV6();t.j41(0,"div")(1,"ul",4),t.DNE(2,b,15,10,"li",5),t.k0s(),t.j41(3,"h2",6),t.EFF(4),t.nI1(5,"number"),t.k0s(),t.j41(6,"button",7),t.bIt("click",function(){c.eBV(r);const n=t.XpG();return c.Njj(n.comprar())}),t.EFF(7," Comprar "),t.k0s()()}if(2&e){const r=t.XpG();t.R7$(2),t.Y8G("ngForOf",r.itemsCarrinho),t.R7$(2),t.SpI(" Total: R$ ",t.i5U(5,2,r.total,"1.2-2")," ")}}function f(e,d){1&e&&(t.j41(0,"p",18),t.EFF(1,"Nenhum produto foi adicionado ao carrinho"),t.k0s())}let _=(()=>{class e{carrinhoService;router;items=[];itemsCarrinho=[];constructor(r,o){this.carrinhoService=r,this.router=o}ngOnInit(){this.items=this.carrinhoService.obterCarrinho().map(r=>r),this.itemsCarrinho=[...this.items]}removerProdutoCarrinho(r){this.itemsCarrinho=this.itemsCarrinho.filter(o=>o.id!==r),localStorage.setItem("carrinho",JSON.stringify(this.itemsCarrinho))}get total(){return this.itemsCarrinho.reduce((r,o)=>r+o.preco*o.quantidade,0)}removerItem(r){this.itemsCarrinho.splice(r,1),localStorage.setItem("carrinho",JSON.stringify(this.itemsCarrinho))}comprar(){alert("Parab\xe9ns, voc\xea finalizou a sua compra!"),this.carrinhoService.limparCarrinho(),this.router.navigate(["produtos"])}static \u0275fac=function(o){return new(o||e)(t.rXU(h.A),t.rXU(g.Ix))};static \u0275cmp=t.VBU({type:e,selectors:[["app-carrinho"]],decls:6,vars:2,consts:[["semProduto",""],[1,"text-4xl","font-bold","text-gray-700","py-2"],[1,"fa-solid","fa-cart-arrow-down","mr-2"],[4,"ngIf","ngIfElse"],[1,"space-y-3"],["class","flex items-center justify-between h-24 rounded-lg shadow-md overflow-hidden px-4",4,"ngFor","ngForOf"],[1,"text-2xl","font-bold","text-gray-700","py-2"],[1,"bg-white","text-red-600","border","border-red-600","rounded","px-4","py-2","font-bold","text-lg","mb-3","transition","hover:bg-red-600","hover:text-white",3,"click"],[1,"flex","items-center","justify-between","h-24","rounded-lg","shadow-md","overflow-hidden","px-4"],["loading","lazy",1,"w-24","h-24","object-cover","rounded",3,"src","alt"],[1,"flex-1","px-4"],[1,"font-semibold","text-gray-800"],[1,"text-sm","text-gray-600"],[1,"text-red-600","font-bold"],[1,"text-sm","text-gray-700"],["type","number","min","1",1,"w-12","text-center","border","rounded",3,"ngModelChange","ngModel"],["title","Remover item",1,"bg-red-500","text-white","px-4","h-full","transition","hover:brightness-90","rounded-r",3,"click"],[1,"fa-solid","fa-xmark"],[1,"text-gray-500","italic"]],template:function(o,n){if(1&o&&(t.j41(0,"h2",1),t.nrm(1,"i",2),t.EFF(2,"Carrinho\n"),t.k0s(),t.DNE(3,u,8,5,"div",3)(4,f,2,0,"ng-template",null,0,t.C5r)),2&o){const s=t.sdS(5);t.R7$(3),t.Y8G("ngIf",n.itemsCarrinho.length>0)("ngIfElse",s)}},dependencies:[l.MD,l.Sq,l.bT,p.iI,a.YN,a.me,a.Q0,a.BC,a.VZ,a.vS,l.QX],styles:[".cart-title[_ngcontent-%COMP%]{padding-top:.5rem;padding-bottom:.5rem;font-size:2.25rem;line-height:2.5rem;font-weight:700;--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity))}.cart-item[_ngcontent-%COMP%]{display:flex;height:6rem;align-items:center;justify-content:space-between;overflow:hidden;border-radius:.5rem;padding-left:1rem;padding-right:1rem;--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.cart-image[_ngcontent-%COMP%]{height:6rem;width:6rem;border-radius:.25rem;object-fit:cover}.remove-button[_ngcontent-%COMP%]{height:100%;border-top-right-radius:.25rem;border-bottom-right-radius:.25rem;--tw-bg-opacity: 1;background-color:rgb(239 68 68 / var(--tw-bg-opacity));padding-left:1rem;padding-right:1rem;--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity));transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.remove-button[_ngcontent-%COMP%]:hover{--tw-brightness: brightness(.9);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.cart-total[_ngcontent-%COMP%]{padding-top:.5rem;padding-bottom:.5rem;font-size:1.5rem;line-height:2rem;font-weight:700;--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity))}.buy-button[_ngcontent-%COMP%]{margin-bottom:.75rem;border-radius:.25rem;border-width:1px;--tw-border-opacity: 1;border-color:rgb(220 38 38 / var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity));padding:.5rem 1rem;font-size:1.125rem;line-height:1.75rem;font-weight:700;--tw-text-opacity: 1;color:rgb(220 38 38 / var(--tw-text-opacity));transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.buy-button[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(220 38 38 / var(--tw-bg-opacity));--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}"]})}return e})()}}]);